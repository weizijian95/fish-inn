=======================================
   ç²¾çµå®¢æ ˆ - å¿«é€Ÿéƒ¨ç½²æŒ‡å—
=======================================

ğŸ“Œ é€‚ç”¨äºï¼šæœ‰è…¾è®¯äº‘æœåŠ¡å™¨çš„ç”¨æˆ·

---------------------------
ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ç¯å¢ƒï¼ˆåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼‰
---------------------------

1. å®‰è£… Node.js:
   curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
   sudo yum install -y nodejs

2. å®‰è£… MySQL:
   sudo yum install -y mysql-server
   sudo systemctl start mysqld
   sudo systemctl enable mysqld
   sudo mysql_secure_installation  # è®¾ç½®å¯†ç 

3. å®‰è£… Nginx:
   sudo yum install -y nginx
   sudo systemctl start nginx
   sudo systemctl enable nginx

---------------------------
ç¬¬äºŒæ­¥ï¼šä¸Šä¼ ä»£ç 
---------------------------

æ–¹å¼1ï¼ˆæ¨èï¼‰ï¼šä½¿ç”¨ Git
   cd /var/www
   git clone your-repo-url fish

æ–¹å¼2ï¼šä½¿ç”¨ SCPï¼ˆåœ¨æœ¬åœ°æ‰§è¡Œï¼‰
   scp -r F:/fish root@æœåŠ¡å™¨IP:/var/www/

æ–¹å¼3ï¼šä½¿ç”¨ FTP å·¥å…·ï¼ˆFileZilla/WinSCPï¼‰
   ä¸Šä¼ åˆ° /var/www/fish

---------------------------
ç¬¬ä¸‰æ­¥ï¼šé…ç½®æ•°æ®åº“
---------------------------

1. åˆ›å»ºæ•°æ®åº“ï¼š
   mysql -u root -p < /var/www/fish/backend/config/init.sql

---------------------------
ç¬¬å››æ­¥ï¼šé…ç½®åç«¯
---------------------------

1. è¿›å…¥åç«¯ç›®å½•ï¼š
   cd /var/www/fish/backend

2. å®‰è£…ä¾èµ–ï¼š
   npm install

3. åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š
   cp .env.template .env
   nano .env
   # ä¿®æ”¹æ•°æ®åº“å¯†ç ç­‰ä¿¡æ¯

4. å¯åŠ¨æœåŠ¡ï¼š
   sudo npm install -g pm2
   pm2 start server.js --name fish-backend
   pm2 startup
   pm2 save

---------------------------
ç¬¬äº”æ­¥ï¼šé…ç½® Nginx
---------------------------

1. åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š
   sudo nano /etc/nginx/conf.d/fish.conf

2. å¤åˆ¶ nginx.conf çš„å†…å®¹ï¼Œä¿®æ”¹ï¼š
   - server_name æ”¹ä¸ºä½ çš„åŸŸåæˆ–IP
   - root æ”¹ä¸º /var/www/fish

3. é‡å¯ Nginxï¼š
   sudo nginx -t
   sudo systemctl restart nginx

---------------------------
ç¬¬å…­æ­¥ï¼šä¿®æ”¹å‰ç«¯ API åœ°å€
---------------------------

1. ç¼–è¾‘ç•™è¨€æ¿æ–‡ä»¶ï¼š
   nano /var/www/fish/1122-A-board.html

2. æ‰¾åˆ°ç¬¬166è¡Œå·¦å³ï¼Œä¿®æ”¹ä¸ºï¼š
   const API_BASE_URL = '/api';

---------------------------
ç¬¬ä¸ƒæ­¥ï¼šé…ç½®é˜²ç«å¢™
---------------------------

1. è…¾è®¯äº‘å®‰å…¨ç»„ï¼š
   åœ¨æ§åˆ¶å°æ·»åŠ è§„åˆ™ï¼Œå¼€æ”¾ 80 å’Œ 443 ç«¯å£

2. æœåŠ¡å™¨é˜²ç«å¢™ï¼š
   sudo firewall-cmd --permanent --add-service=http
   sudo firewall-cmd --reload

---------------------------
ç¬¬å…«æ­¥ï¼šæµ‹è¯•è®¿é—®
---------------------------

æµè§ˆå™¨è®¿é—®ï¼š
http://ä½ çš„æœåŠ¡å™¨IP
http://ä½ çš„æœåŠ¡å™¨IP/1122-A-board.html

---------------------------
ğŸ’¡ å¸¸ç”¨å‘½ä»¤
---------------------------

æŸ¥çœ‹åç«¯çŠ¶æ€ï¼špm2 status
æŸ¥çœ‹åç«¯æ—¥å¿—ï¼špm2 logs fish-backend
é‡å¯åç«¯ï¼špm2 restart fish-backend

æŸ¥çœ‹ Nginx æ—¥å¿—ï¼štail -f /var/log/nginx/fish_error.log

å¤‡ä»½æ•°æ®åº“ï¼š
mysqldump -u root -p fish_db > backup.sql

---------------------------
ğŸ‰ å®Œæˆï¼
---------------------------

è¯¦ç»†æ–‡æ¡£è¯·æŸ¥çœ‹ DEPLOYMENT.md

